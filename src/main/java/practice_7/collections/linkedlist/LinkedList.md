# –†–∞–∑–±–æ—Ä `LinkedList` –≤ Java

## üìå –í–≤–µ–¥–µ–Ω–∏–µ
`LinkedList` ‚Äî —ç—Ç–æ –¥–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤ Java, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:
- `List` ‚Äî –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–ø–∏—Å–∫–æ–≤.
- `Deque` ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å (`Queue`) –∏ –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—é—é –æ—á–µ—Ä–µ–¥—å (`Deque`).
- `Cloneable` ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.
- `Serializable` ‚Äî –º–æ–∂–Ω–æ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å.

## üîπ –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ `LinkedList`
- **–û—Å–Ω–æ–≤–∞–Ω –Ω–∞ —É–∑–ª–∞—Ö (`Node`)**, –∞ –Ω–µ –Ω–∞ –º–∞—Å—Å–∏–≤–µ.
- **–î–≤—É—Å–≤—è–∑–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:
  - –ö–∞–∂–¥—ã–π —É–∑–µ–ª —Ö—Ä–∞–Ω–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ **—Å–ª–µ–¥—É—é—â–∏–π** (`next`) –∏ **–ø—Ä–µ–¥—ã–¥—É—â–∏–π** (`prev`) —ç–ª–µ–º–µ–Ω—Ç—ã.
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:
  - –î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É `O(n)`, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è **–ø—Ä–æ–π—Ç–∏ —Å–ø–∏—Å–æ–∫**.
  - –í—Å—Ç–∞–≤–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ –≤ –Ω–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü `O(1)`.
  - –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ —Å–µ—Ä–µ–¥–∏–Ω—ã `O(n)`, –µ—Å–ª–∏ –Ω–µ—Ç `ListIterator`.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–±–æ—Ç—ã –∫–∞–∫ **–æ—á–µ—Ä–µ–¥—å (`Queue`)** –∏ **—Å—Ç–µ–∫ (`Deque`)**.

---

## üîπ –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ `LinkedList`
### 1Ô∏è‚É£ **–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
```java
private static class Node<E> {
    E item;
    Node<E> next;
    Node<E> prev;

    Node(Node<E> prev, E element, Node<E> next) {
        this.item = element;
        this.next = next;
        this.prev = prev;
    }
}
```
- –ö–∞–∂–¥—ã–π —É–∑–µ–ª (`Node`) —Ö—Ä–∞–Ω–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `item`, —Å—Å—ã–ª–∫—É –Ω–∞ **–ø—Ä–µ–¥—ã–¥—É—â–∏–π (`prev`)** –∏ **—Å–ª–µ–¥—É—é—â–∏–π (`next`)** —É–∑–µ–ª.
- `first` –∏ `last` —Ö—Ä–∞–Ω—è—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞.

```java
transient Node<E> first;
transient Node<E> last;
```

### 2Ô∏è‚É£ **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã**
```java
public LinkedList() {
}
public LinkedList(Collection<? extends E> c) {
    this();
    addAll(c);
}
```
- `new LinkedList<>()` —Å–æ–∑–¥–∞—ë—Ç **–ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫**.
- `new LinkedList<>(Collection<? extends E> c)` –∫–æ–ø–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

### 3Ô∏è‚É£ **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞**
#### üîπ –í –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞ (`addLast()`)
```java
void linkLast(E e) {
    final Node<E> l = last;
    final Node<E> newNode = new Node<>(l, e, null);
    last = newNode;
    if (l == null)
        first = newNode;
    else
        l.next = newNode;
    size++;
}
```
- –°–æ–∑–¥–∞—ë—Ç **–Ω–æ–≤—ã–π —É–∑–µ–ª**.
- –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç, –Ω–æ–≤—ã–π —É–∑–µ–ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `first`.
- –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç `last`.

#### üîπ –í –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞ (`addFirst()`)
```java
void linkFirst(E e) {
    final Node<E> f = first;
    final Node<E> newNode = new Node<>(null, e, f);
    first = newNode;
    if (f == null)
        last = newNode;
    else
        f.prev = newNode;
    size++;
}
```
- –î–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç **–≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞**.
- –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –±—ã–ª –ø—É—Å—Ç, –Ω–æ–≤—ã–π —É–∑–µ–ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `last`.

### 4Ô∏è‚É£ **–£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞**
#### üîπ –£–¥–∞–ª–µ–Ω–∏–µ —Å –Ω–∞—á–∞–ª–∞ (`removeFirst()`)
```java
private E unlinkFirst(Node<E> f) {
    final E element = f.item;
    final Node<E> next = f.next;
    f.item = null;
    f.next = null; // –û—á–∏—Å—Ç–∫–∞ —Å—Å—ã–ª–∫–∏
    first = next;
    if (next == null)
        last = null;
    else
        next.prev = null;
    size--;
    return element;
}
```
- –£–±–∏—Ä–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç.
- –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—É—Å—Ç—ã–º, `last = null`.

#### üîπ –£–¥–∞–ª–µ–Ω–∏–µ —Å –∫–æ–Ω—Ü–∞ (`removeLast()`)
```java
private E unlinkLast(Node<E> l) {
    final E element = l.item;
    final Node<E> prev = l.prev;
    l.item = null;
    l.prev = null; // –û—á–∏—Å—Ç–∫–∞ —Å—Å—ã–ª–∫–∏
    last = prev;
    if (prev == null)
        first = null;
    else
        prev.next = null;
    size--;
    return element;
}
```
- –£–±–∏—Ä–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç.
- –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—É—Å—Ç—ã–º, `first = null`.

---

## üîπ –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏
### ‚ùì **–ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω `LinkedList` –≤–Ω—É—Ç—Ä–∏?**
–û—Ç–≤–µ—Ç:
- –≠—Ç–æ **–¥–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫** (`Node<E>`).
- –£–∑–ª—ã (`Node`) —Å–æ–¥–µ—Ä–∂–∞—Ç **—Å—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∏ —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç—ã**.
- `first` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ **–ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç**, `last` ‚Äî –Ω–∞ **–ø–æ—Å–ª–µ–¥–Ω–∏–π**.

### ‚ùì **–ß–µ–º `LinkedList` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `ArrayList`?**
| –§—É–Ω–∫—Ü–∏—è        | `ArrayList`   | `LinkedList`  |
|---------------|-------------|--------------|
| –î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É | `O(1)`       | `O(n)`        |
| –í—Å—Ç–∞–≤–∫–∞ –≤ –∫–æ–Ω–µ—Ü | `O(1)`       | `O(1)`        |
| –í—Å—Ç–∞–≤–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω—É | `O(n)`       | `O(1)`, –µ—Å–ª–∏ –µ—Å—Ç—å `ListIterator` |
| –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ | `O(n)`       | `O(1)`, –µ—Å–ª–∏ –µ—Å—Ç—å `ListIterator` |

**–í—ã–≤–æ–¥**: `LinkedList` –ª—É—á—à–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ **—á–∞—Å—Ç–æ —É–¥–∞–ª—è—Ç—å/–¥–æ–±–∞–≤–ª—è—Ç—å –≤ —Å–µ—Ä–µ–¥–∏–Ω—É**.

### ‚ùì **–ü–æ—á–µ–º—É `LinkedList` –º–µ–¥–ª–µ–Ω–Ω—ã–π –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É?**
–û—Ç–≤–µ—Ç:
- –î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É `O(n)`, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è **–ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å —É–∑–ª—ã**.
- `get(int index)` –Ω–∞—á–∏–Ω–∞–µ—Ç —Å `first` –∏–ª–∏ `last`, –¥–≤–∏–≥–∞—è—Å—å –∫ –Ω—É–∂–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É.

```java
public E get(int index) {
    if (index < (size >> 1)) { // –ï—Å–ª–∏ index –±–ª–∏–∂–µ –∫ –Ω–∞—á–∞–ª—É
        Node<E> x = first;
        for (int i = 0; i < index; i++)
            x = x.next;
        return x.item;
    } else { // –ï—Å–ª–∏ index –±–ª–∏–∂–µ –∫ –∫–æ–Ω—Ü—É
        Node<E> x = last;
        for (int i = size - 1; i > index; i--)
            x = x.prev;
        return x.item;
    }
}
```

### ‚ùì **–ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω `remove(int index)`?**
–û—Ç–≤–µ—Ç:
- –ï—Å–ª–∏ `index < size / 2`, –∏–¥—ë—Ç –ø–æ–∏—Å–∫ **—Å –Ω–∞—á–∞–ª–∞ —Å–ø–∏—Å–∫–∞**.
- –ï—Å–ª–∏ `index > size / 2`, –∏–¥—ë—Ç –ø–æ–∏—Å–∫ **—Å –∫–æ–Ω—Ü–∞ —Å–ø–∏—Å–∫–∞**.
- –ü–æ—Å–ª–µ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —É–∑–ª–∞, –µ–≥–æ —É–¥–∞–ª—è—é—Ç –∏ –æ–±–Ω–æ–≤–ª—è—é—Ç —Å—Å—ã–ª–∫–∏.

### ‚ùì **–ö–∞–∫ —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä `LinkedList` –≤ –ø–∞–º—è—Ç–∏?**
–û—Ç–≤–µ—Ç:
- `LinkedList` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `trimToSize()`, –∫–∞–∫ `ArrayList`.
- –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± ‚Äî –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫:

```java
list = new LinkedList<>(list);
```

### ‚ùì **–ú–æ–∂–Ω–æ –ª–∏ —Ö—Ä–∞–Ω–∏—Ç—å `null` –≤ `LinkedList`?**
–û—Ç–≤–µ—Ç:
- –î–∞, `LinkedList` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `null`-–∑–Ω–∞—á–µ–Ω–∏—è.

```java
List<String> list = new LinkedList<>();
list.add(null);
System.out.println(list.get(0)); // null
```

### ‚ùì **–ö–∞–∫ `LinkedList` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å –∏ —Å—Ç–µ–∫?**
–û—Ç–≤–µ—Ç:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Deque`, –ø–æ–∑–≤–æ–ª—è—è —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫:
    - **–û—á–µ—Ä–µ–¥—å (FIFO)** ‚Üí `addLast()`, `removeFirst()`.
    - **–°—Ç–µ–∫ (LIFO)** ‚Üí `addFirst()`, `removeFirst()`.

---

## üîπ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
- `LinkedList` —É–¥–æ–±–µ–Ω –¥–ª—è **—á–∞—Å—Ç–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è**.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **—É–∑–ª—ã (`Node<E>`)** –≤–º–µ—Å—Ç–æ –º–∞—Å—Å–∏–≤–∞.
- –î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É **–º–µ–¥–ª–µ–Ω–Ω—ã–π (`O(n)`)**.
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ **–æ—á–µ—Ä–µ–¥–∏ (`Queue`)** –∏ **—Å—Ç–µ–∫–∞ (`Deque`)**.

---
**–ê–≤—Ç–æ—Ä**: Alex Pshe üöÄ
